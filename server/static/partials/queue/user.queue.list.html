<div class="box" ng-controller="UserQueueListCtrl" >
<div class="box-header">
  <h3 class="box-title" ng-if="queues.$resolved && queues.length == 0" >No Queues</h3>
  <h3 class="box-title" ng-if="queues.length > 0">Your Queue</h3>
</div><!-- /.box-header -->

<div class="box-body no-padding table-responsive">
  <table id="queuetable" ng-if="queues.length > 0" class="table table-responsive table-striped table-bordered">
    <thead>
      <tr>
        <th>Assignment</th>
        <th>Staff</th>
        <th>Submissions</th>
        <th>View</th>
      </tr>
    </thead>
  <tbody>

      <tr ng-repeat="queue in queues">
    <table ng-if="queue.submissions.length > 0" class="table table-responsive table-striped table-bordered">
    <tbody>
    <tr>
      <th style="width: 10px">Assignment</th>
      <th>Submitter</th>
      <th>Time</th>
      <th style="width: 15%">Tags</th>
      <th>Grade</th>
      <th>Action</th>
    </tr>

    <tr ng-repeat="submission in queue.submissions">
          <td>
            <a ui-sref='assignment.detail({assignmentId:submission.assignment.id})'>{{submission.assignment.display_name}}</a>
          </td>
          <td>{{submission.submitter.id}}</td>
          <td>
            {{submission.created | amCalendar}}
          </td>
          <td >
              <span class="badge bg-info">{{submission.assignment.display_name}}</span>
              <span ng-repeat="tag in submission.tags" class="badge bg-blue">
                {{ tag }}
              </span>
          </td>
          <td>
            <p ng-if="submission.compScore == null"> Ungraded </p>
            <p ng-if="submission.compScore != null"> {{submission.compScore.score}} </p>
          </td>
          <td>
              <a ui-sref='submission.diff({submissionId:submission.id})' type="button" ng-if="submission.compScore == null"
                class="btn btn-block btn-flat btn-info">Grade</a>

              <a ui-sref='submission.diff({submissionId:submission.id})' type="button" ng-if="submission.compScore != null"
                class="btn btn-block btn-flat btn-warning">Re-grade</a>
          </td>

        </tr>

      </tbody>
    </table>
  </div><!-- /.box-body -->
</div><!-- /.box -->
